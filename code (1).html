<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Untuk Kamu üíñ</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet"> <!-- Tambah font -->

<style>
    /* CSS sama seperti asli, tapi tambah toggle dark mode */
    :root {
        --pink1: #ffb3d9;
        --pink2: #ff80bf;
        --pink3: #ff4d94;
        --darkBg: #1b1b1b;
        --lightBg: #fff0f6;
        --lightText: #ff4d88;
        --darkText: #ff8ebf;
    }

    body {
        margin: 0;
        padding: 0;
        font-family: "Poppins", sans-serif;
        background: var(--lightBg);
        text-align: center;
        transition: 0.5s;
    }

    body.dark {
        background: var(--darkBg);
        color: white;
    }

    #container {
        max-width: 600px;
        margin: auto;
        padding: 20px;
    }

    h1 {
        color: var(--lightText);
        margin-top: 40px;
        transition: 0.4s;
    }

    body.dark h1 {
        color: var(--darkText);
    }

    button {
        background-color: var(--pink2);
        border: none;
        padding: 15px 25px;
        font-size: 18px;
        border-radius: 25px;
        color: white;
        cursor: pointer;
        transition: 0.3s;
        margin-top: 40px;
    }

    button:hover {
        transform: scale(1.05);
        background-color: var(--pink3);
    }

    #message {
        font-size: 22px;
        padding: 20px;
        color: var(--lightText);
        display: none;
        line-height: 1.6;
        animation: fade 1s ease;
    }

    body.dark #message {
        color: var(--darkText);
    }

    @keyframes fade {
        from {opacity: 0;}
        to {opacity: 1;}
    }

    #photo {
        width: 90%;
        max-width: 350px;
        border-radius: 20px;
        margin-top: 20px;
        display: none;
        box-shadow: 0 0 20px var(--pink1);
        animation: pop 0.5s ease;
    }

    @keyframes pop {
        from {transform: scale(0.5); opacity: 0;}
        to {transform: scale(1); opacity: 1;}
    }

    /* MENU ADMIN */
    #adminMenu {
        display: none;
        margin-top: 30px;
        padding: 20px;
        border-radius: 15px;
        background: white;
        box-shadow: 0 0 10px #ffd6ea;
    }

    body.dark #adminMenu {
        background: #2b2b2b;
        box-shadow: 0 0 10px #ff8ec4;
    }

    input {
        margin-top: 10px;
        padding: 10px;
        width: 90%;
        border-radius: 10px;
        border: 2px solid var(--pink2);
    }

    .emoji {
        font-size: 40px;
        position: fixed;
        animation: fall 4s linear infinite;
    }

    @keyframes fall {
        from {transform: translateY(-10vh);}
        to {transform: translateY(110vh);}
    }

    /* Toggle Dark Mode */
    #toggleDark {
        position: fixed;
        top: 20px;
        right: 20px;
        background: var(--pink2);
        border: none;
        padding: 10px;
        border-radius: 50%;
        cursor: pointer;
    }
</style>
</head>

<body>

<div id="container">
    <h1>Halo Sayangku üíï‚ú®</h1>

    <button id="startBtn">Mulai üíó</button>

    <p id="message"></p>

    <!-- FOTO -->
    <img id="photo" src="foto-kita.jpg" alt="Foto romantis kita bersama">

    <!-- MENU ADMIN -->
    <div id="adminMenu">
        <h3>Menu Admin üîê</h3>
        <p>Upload Foto Baru:</p>
        <input type="file" id="fotoInput" accept="image/*">
        <p>Upload Musik Baru:</p>
        <input type="file" id="musikInput" accept="audio/*">
    </div>

</div>

<!-- MUSIK -->
<audio id="bgmusic" src="musik.mp3"></audio>

<!-- Toggle Dark Mode -->
<button id="toggleDark">üåô</button>

<script>
    /* --- Pesan otomatis --- */
    const messageText = [
        "Hai cintaku üíû",
        "Aku cuma mau bilang...",
        "Kamu itu selalu bikin hariku jadi lebih berwarna üåàü•∞",
        "Terima kasih ya udah hadir di hidup aku üíñ",
        "Aku sayang banget sama kamu üòò‚ú®"
    ];

    let index = 0;

    document.getElementById("startBtn").onclick = function() {
        this.style.display = "none";

        const msg = document.getElementById("message");
        const img = document.getElementById("photo");
        const music = document.getElementById("bgmusic");

        // Pastikan musik dimainkan setelah interaksi
        music.play().catch(e => console.log("Autoplay blocked:", e));
        msg.style.display = "block";

        let interval = setInterval(() => {
            if (index < messageText.length) {
                msg.innerHTML = messageText[index];
                index++;
            } else {
                clearInterval(interval);
                img.style.display = "block";
            }
        }, 2000);

        spawnEmojis();
    };

    /* --- ADMIN MODE (tekan SHIFT 5 detik, password lebih kuat) --- */
    let adminTimeout;
    let adminActive = false; // Flag untuk mencegah multiple prompt
    document.body.onkeydown = function(e){
        if(e.key === "Shift" && !adminActive){
            adminTimeout = setTimeout(() => {
                let pass = prompt("Masukkan password admin:");
                if(pass === "LoveForever2023"){ // Password lebih kuat
                    document.getElementById("adminMenu").style.display = "block";
                    adminActive = true;
                }
            }, 1500);
        }
    };
    document.body.onkeyup = function(e){
        if(e.key === "Shift"){
            clearTimeout(adminTimeout);
        }
    };

    /* --- Upload Foto --- */
    document.getElementById("fotoInput").onchange = function(e){
        const img = document.getElementById("photo");
        img.src = URL.createObjectURL(e.target.files[0]);
        alert("Foto berhasil diganti! ü©∑");
    };

    /* --- Upload Musik --- */
    document.getElementById("musikInput").onchange = function(e){
        const music = document.getElementById("bgmusic");
        music.src = URL.createObjectURL(e.target.files[0]);
        alert("Musik berhasil diganti! üéµüíó");
    };

    /* --- Dark Mode Otomatis + Toggle Manual --- */
    const hour = new Date().getHours();
    if(hour >= 18 || hour <= 6){
        document.body.classList.add("dark");
    }

    document.getElementById("toggleDark").onclick = function() {
        document.body.classList.toggle("dark");
    };

    /* --- Emoji jatuh --- */
    function spawnEmojis(){
        setInterval(() => {
            const emojiList = ["üíó","üíû","‚ú®","üíï","üå∏","üíñ"];
            const emoji = document.createElement("div");
            emoji.classList.add("emoji");
            emoji.innerHTML = emojiList[Math.floor(Math.random()*emojiList.length)];
            emoji.style.left = Math.random()*100 + "vw";
            emoji.style.animationDuration = (3 + Math.random()*3) + "s";
            document.body.appendChild(emoji);

            setTimeout(() => emoji.remove(), 6000);
        }, 500);
    }
</script>

</body>
</html>
